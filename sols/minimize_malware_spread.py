from collections import defaultdict
class Solution(object):
    def minMalwareSpread(self, graph, initial):
        adj = defaultdict(list)
        for i in xrange(len(graph)):
            for j in xrange(len(graph[0])):
                if graph[i][j] == 1:
                    adj[i].append(j)
                    adj[j].append(i)
        
        def dfs(u, visit):
            visit.add(u)
            
            for v in adj[u]:
                if v not in visit:
                    dfs(v, visit)
            
            return visit
            
        seen = set()
        ans = None
        maxCnt = 0
        for u in sorted(initial):
            if u not in seen:
                visit = dfs(u, set())
                seen |= visit
                if len(visit) > maxCnt:
                    ans = u
                    maxCnt = len(visit)
        return ans